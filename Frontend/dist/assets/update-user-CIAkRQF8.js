import{a as m,k as h,j as a,l as g}from"./index-BraKEzPG.js";import{b as x,a as C}from"./CRow-D-mEvV_I.js";import{C as j}from"./CForm-BLsk1Ow9.js";import{C as i}from"./CFormInput-DI9PoxJV.js";import"./CFormControlWrapper-BEyPui5m.js";const _=()=>{const d=localStorage.getItem("id"),[e,p]=m.useState({first_name:"",last_name:""}),[s,r]=m.useState(!1),c=h(),n=t=>{p({...e,[t.target.name]:t.target.value})},u=async t=>{var o,l;t.preventDefault(),r(!0);try{await g.put(`/api/auth/user/${d}/`,e),alert("User updated successfully"),c("/user/view")}catch(f){alert(((l=(o=f.response)==null?void 0:o.data)==null?void 0:l.detail)||"Update failed")}finally{r(!1)}};return a.jsx("div",{children:a.jsxs(x,{children:[a.jsx("p",{className:"text-body-secondary",children:"Update your personal details:"}),a.jsxs(j,{onSubmit:u,children:[a.jsx(i,{className:"mb-2",placeholder:"First Name",autoComplete:"first-name",value:e.first_name,name:"first_name",onChange:n}),a.jsx(i,{className:"mb-2",placeholder:"Last Name",autoComplete:"last-name",value:e.last_name,name:"last_name",onChange:n}),a.jsx(C,{type:"submit",color:"primary",disabled:s,children:s?"Updating...":"Update"})]})]})})};export{_ as default};
