import{a as i,k as j,l as u,j as e}from"./index-BraKEzPG.js";import{C as p}from"./CFormSelect-BNXs6K9Y.js";import{C}from"./CFormInput-DI9PoxJV.js";import{C as _,a as b,b as c,c as s,d as f,e as r}from"./CTable-DvbBEFif.js";import"./CFormControlWrapper-BEyPui5m.js";const N=()=>{const[t,o]=i.useState(""),[l,h]=i.useState("last_name__icontains"),[d,n]=i.useState([]),m=j();return i.useEffect(()=>{t.length>2?u.get(`/api/auth/user/search/?${l}=${t}`).then(a=>n(a.data)).catch(a=>{console.error("Error fetching users:",a),n([])}):n([])},[t,l]),e.jsxs("div",{children:[e.jsxs(p,{value:l,onChange:a=>h(a.target.value),className:"mb-3",children:[e.jsx("option",{value:"last_name__icontains",children:"Search by Last Name"}),e.jsx("option",{value:"first_name__icontains",children:"Search by First Name"}),e.jsx("option",{value:"email__icontains",children:"Search by Email"})]}),e.jsx(C,{type:"text",placeholder:"Enter search term...",value:t,onChange:a=>o(a.target.value)}),e.jsxs(_,{striped:!0,hover:!0,className:"mt-3",children:[e.jsx(b,{children:e.jsxs(c,{children:[e.jsx(s,{children:"#"}),e.jsx(s,{children:"Email"}),e.jsx(s,{children:"First Name"}),e.jsx(s,{children:"Last Name"}),e.jsx(s,{children:"User Type"})]})}),e.jsx(f,{children:d.map((a,x)=>e.jsxs(c,{onClick:()=>m(`/user/${a.id}`),style:{cursor:"pointer"},children:[e.jsx(r,{children:x+1}),e.jsx(r,{children:a.email}),e.jsx(r,{children:a.first_name}),e.jsx(r,{children:a.last_name}),e.jsx(r,{children:a.user_type})]},a.id))})]})]})};export{N as default};
