import{z as g,a as l,k as f,j as e,l as x}from"./index-BraKEzPG.js";import{b as j,a as b}from"./CRow-D-mEvV_I.js";import{C as y}from"./CForm-BLsk1Ow9.js";import{C as c}from"./CFormInput-DI9PoxJV.js";import"./CFormControlWrapper-BEyPui5m.js";const E=()=>{const{id:d}=g(),p=localStorage.getItem("id"),[t,m]=l.useState({title:"",description:""}),[s,r]=l.useState(!1),u=f(),o=a=>{m({...t,[a.target.name]:a.target.value})},h=async a=>{var i,n;a.preventDefault(),r(!0);try{await x.put(`/api/courses/${d}/update/`,{...t,teacher:p}),alert("Course updated successfully"),u("/teachers/manage-courses")}catch(C){alert(((n=(i=C.response)==null?void 0:i.data)==null?void 0:n.detail)||"Update failed")}finally{r(!1)}};return e.jsx("div",{children:e.jsxs(j,{children:[e.jsx("p",{className:"text-body-secondary",children:"Update course details:"}),e.jsxs(y,{onSubmit:h,children:[e.jsx(c,{className:"mb-2",placeholder:"Title",autoComplete:"title",value:t.title,name:"title",onChange:o}),e.jsx(c,{className:"mb-2",placeholder:"Description",autoComplete:"description",value:t.description,name:"description",onChange:o}),e.jsx(b,{type:"submit",color:"primary",disabled:s,children:s?"Updating...":"Update"})]})]})})};export{E as default};
