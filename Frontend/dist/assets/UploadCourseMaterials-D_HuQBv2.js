import{z as F,a as s,k as N,j as t,l as b}from"./index-BraKEzPG.js";import{C as j}from"./CForm-BLsk1Ow9.js";import{C as l}from"./CFormInput-DI9PoxJV.js";import{a as v}from"./CRow-D-mEvV_I.js";import"./CFormControlWrapper-BEyPui5m.js";const w=()=>{const{id:r}=F(),[u,m]=s.useState(null),[n,d]=s.useState(""),[i,f]=s.useState(""),[p,c]=s.useState(!1),h=N(),g=e=>{m(e.target.files[0])},C=e=>{d(e.target.value)},x=e=>{f(e.target.value)},y=async e=>{e.preventDefault(),c(!0);const a=new FormData;a.append("file",u),a.append("description",n),a.append("course",r),a.append("file_name",i);try{const o=await b.post(`/api/courses/${r}/materials/`,a,{headers:{"Content-Type":"multipart/form-data"}});console.log("File uploaded successfully",o.data),alert("File uploaded successfully")}catch(o){console.error("Error uploading file",o)}finally{c(!1)}};return t.jsxs(j,{onSubmit:y,children:[t.jsx(l,{className:"mb-2",type:"file",onChange:g,label:"Choose File",required:!0}),t.jsx(l,{className:"mb-2",type:"text",placeholder:"File Name",value:i,onChange:x}),t.jsx(l,{type:"text",placeholder:"Description",value:n,onChange:C}),t.jsx(v,{type:"submit",className:"mt-2",color:"primary",disabled:p,onClick:()=>h("/teachers/manage-courses"),children:p?"Uploading...":"Upload"})]})};export{w as default};
