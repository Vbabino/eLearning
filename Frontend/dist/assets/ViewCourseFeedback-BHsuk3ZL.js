import{z as h,a as t,j as s,C,l as i}from"./index-BraKEzPG.js";import{C as b,a as x}from"./CCardBody-g5mY4aaI.js";import{C as k}from"./CCardHeader-BDgx8Gn8.js";import{C as j,a as g}from"./CListGroupItem-qFc1SiDU.js";import"./CRow-D-mEvV_I.js";const w=()=>{const{id:c}=h(),[d,f]=t.useState([]),[u,l]=t.useState(!0),[n,p]=t.useState({});t.useEffect(()=>{(async()=>{try{const a=(await i.get("/api/feedback/feedback/")).data.filter(o=>o.course===Number(c));f(a),a.forEach(o=>m(o.student))}catch(e){console.error("Error fetching feedback:",e)}finally{l(!1)}})()},[c]);const m=async r=>{if(!n[r])try{const e=await i.get(`/api/auth/user/${r}/`);p(a=>({...a,[r]:`${e.data.first_name} ${e.data.last_name}`}))}catch(e){console.error("Error fetching user:",e)}};return u?s.jsx(C,{color:"primary"}):s.jsxs(b,{children:[s.jsx(k,{children:"Course Feedback"}),s.jsx(x,{children:s.jsx(j,{children:d.map((r,e)=>s.jsxs(g,{children:[s.jsx("strong",{children:n[r.student]||"Loading..."}),": ",r.comment]},e))})})]})};export{w as default};
